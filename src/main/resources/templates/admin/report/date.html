<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>

    <th:block th:replace="/admin/layout/head :: head"/>
    <meta charset="UTF-8">
    <title>Báo Cáo Ngày</title>
</head>

<body>


<!-- Page Wrapper -->
<div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full"
     data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
    <th:block th:replace="/admin/layout/navBar :: navBar"/>

    <div class="row">
        <div class="col-xs-10 ">
            <div class="normal-table-list mg-t-30">
                <div class="basic-tb-hd text-center">
                    <h1>Báo Cáo Ngày</h1>
                    <h6 class="fw-light">Ngày Bán : <input type="date"/>></h6>

                </div>
                <div class="bsc-tbl-hvr table-responsive ">
                    <table class="table table-hover table-striped" id="tblReport">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Thời gian</th>
                            <th>Nhân Viên</th>
                            <th>Số Lượng</th>
                            <th>Doanh thu</th>
                        </tr>
                        </thead>
                        <tfoot class="text-right">
                        <tr class="text-right">
                            <th colspan="4" class="fw-bold">Tổng Doanh Thu :</th>
                            <th>10000</th>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <th:block th:replace="/admin/layout/footer :: footer"/>
</div>
<th:block th:replace="/admin/layout/script :: script"/>
</body>
<script>
    let orderItem;
    // renderAllOrderItem();
    renderDataTableReport();

    function renderAllOrderItem() {
        $.ajax({
            headers: {
                "Accept": "application/json",
                "Content-type": "application/json"
            },
            type: "GET",
            url: "http://localhost:8080/api/orderItem",
        }).done((data) => {
            orderItem = data;
        })
    }

    function renderDataTableReport() {

        console.log("bbb")
        $('#tblReport').dataTable({
            ajax: {
                contentType: 'application/json',
                url: 'http://localhost:8080/api/order?createAt=02-11-2022',
                type: 'GET',

                dataSrc: ''
            },
            searching: false,
            columns: [
                {
                    data: "id", render: function (id) {

                        return `<td>${"O-" + id}</td>`
                    }
                },
                {
                    data: "createAt", render: function (createAt) {
                        return `<td>${moment(createAt).format('h:mm:ss a')}</td>`

                    }
                },
                {data: "userId"},
                {
                    data: "id"
                        

                },
                {
                    data: "grandTotal", render: function (grandTotal) {
                        return new Intl.NumberFormat('vi-VN', {
                            style: 'currency',
                            currency: 'VND'
                        }).format(grandTotal)
                    }
                }

            ],
            columnDefs: [
                {
                    targets: 3,
                    className: "text-right"
                },
                {
                    targets: -1,
                    className: "text-right"
                }
            ]

        })

    }


</script>

</html>